{% extends 'base.html' %}
{% load static %}

{% block title %}Help & FAQ - SoundCloud Download Gating By BandPass Records{% endblock %}

{% block content %}
<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-lg-10">
            <div class="card shadow-lg">
                <div class="card-header bg-primary text-white">
                    <h1 class="mb-0">
                        <i class="fas fa-question-circle me-2"></i>Help & Frequently Asked Questions
                    </h1>
                    <p class="mb-0 mt-2 opacity-75">Find answers to common questions and learn how to get the most out of SoundCloud Download Gating By BandPass Records</p>
                </div>
                
                <div class="card-body p-4 p-md-5">
                    <!-- Quick Start -->
                    <section class="mb-5">
                        <h2 class="h4 mb-4">
                            <i class="fas fa-rocket me-2 text-primary"></i>Quick Start Guide
                        </h2>
                        
                        <div class="accordion" id="quickStartAccordion">
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="headingOne">
                                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                        <i class="fas fa-user-plus me-2"></i>1. Creating an Account
                                    </button>
                                </h2>
                                <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#quickStartAccordion">
                                    <div class="accordion-body">
                                        <p>To get started, you'll need to create a free account:</p>
                                        <ol>
                                            <li>Click the <strong>"Sign up"</strong> or <strong>"Join Free"</strong> button</li>
                                            <li>Fill in your username, email, and password</li>
                                            <li>Verify your email address (check your inbox)</li>
                                            <li>Log in and start exploring!</li>
                                        </ol>
                                        <p class="mb-0">
                                            <a href="{% url 'accounts:signup' %}" class="btn btn-sm btn-primary">
                                                <i class="fas fa-user-plus me-1"></i>Create Account Now
                                            </a>
                                        </p>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="headingTwo">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                        <i class="fas fa-upload me-2"></i>2. Creating a Gate
                                    </button>
                                </h2>
                                <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#quickStartAccordion">
                                    <div class="accordion-body">
                                        <p>To create your first gate:</p>
                                        <ol>
                                            <li>Click <strong>"New Gate"</strong> in the navigation menu</li>
                                            <li>Paste your <strong>SoundCloud track URL</strong></li>
                                            <li>Choose the requirements (like/comment/follow)</li>
                                            <li>Click <strong>"Continue to upload"</strong> and upload your audio file (with progress)</li>
                                            <li>Share the gate link with your fans</li>
                                        </ol>
                                        <p class="mb-0"><strong>Note:</strong> Gates are not listed publicly—only people with your link can access them.</p>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="headingThree">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                        <i class="fas fa-download me-2"></i>3. Unlocking & Downloading
                                    </button>
                                </h2>
                                <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#quickStartAccordion">
                                    <div class="accordion-body">
                                        <p>For fans to unlock a download:</p>
                                        <ol>
                                            <li>Open the gate link</li>
                                            <li>Connect SoundCloud</li>
                                            <li>Complete the requirements shown (like/comment/follow)</li>
                                            <li>Click <strong>"Download"</strong></li>
                                        </ol>
                                        <p class="mb-0">
                                            <strong>Tip:</strong> If they unlike/unfollow later, refreshing the page will re-check status and can re-lock the download.
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- FAQ Section -->
                    <section class="mb-5">
                        <h2 class="h4 mb-4">
                            <i class="fas fa-question me-2 text-primary"></i>Frequently Asked Questions
                        </h2>
                        
                        <div class="accordion" id="faqAccordion">
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="faq1">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq1Collapse" aria-expanded="false" aria-controls="faq1Collapse">
                                        What is a “gate”?
                                    </button>
                                </h2>
                                <div id="faq1Collapse" class="accordion-collapse collapse" aria-labelledby="faq1" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body">
                                        A gate is a private page you share with fans. It embeds your SoundCloud track and requires
                                        specific actions (like, comment, follow) before the download button unlocks.
                                    </div>
                                </div>
                            </div>
                            
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="faq2">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq2Collapse" aria-expanded="false" aria-controls="faq2Collapse">
                                        Are gates publicly discoverable?
                                    </button>
                                </h2>
                                <div id="faq2Collapse" class="accordion-collapse collapse" aria-labelledby="faq2" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body">
                                        No. Gates are designed to be non-discoverable. There is no public browse directory—only people
                                        with the link can access a gate.
                                    </div>
                                </div>
                            </div>
                            
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="faq3">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq3Collapse" aria-expanded="false" aria-controls="faq3Collapse">
                                        What requirements can I enable?
                                    </button>
                                </h2>
                                <div id="faq3Collapse" class="accordion-collapse collapse" aria-labelledby="faq3" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body">
                                        You can require any combination of:
                                        <ul class="mb-0">
                                            <li><strong>Like</strong> the SoundCloud track</li>
                                            <li><strong>Comment</strong> on the SoundCloud track</li>
                                            <li><strong>Follow</strong> the track artist</li>
                                            <li><strong>Follow additional profiles</strong> (optional collaborators)</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="faq4">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq4Collapse" aria-expanded="false" aria-controls="faq4Collapse">
                                        How does SoundCloud login work?
                                    </button>
                                </h2>
                                <div id="faq4Collapse" class="accordion-collapse collapse" aria-labelledby="faq4" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body">
                                        Fans connect SoundCloud on the gate page via OAuth (no password is shared with our site).
                                        We use the connection to verify like/comment/follow status and to let fans complete actions from the gate.
                                    </div>
                                </div>
                            </div>
                            
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="faq5">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq5Collapse" aria-expanded="false" aria-controls="faq5Collapse">
                                        Why did the download lock again after it was unlocked?
                                    </button>
                                </h2>
                                <div id="faq5Collapse" class="accordion-collapse collapse" aria-labelledby="faq5" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body">
                                        The gate re-checks requirements on page refresh. If a fan unlikes, deletes the comment,
                                        or unfollows later on SoundCloud, the gate can re-lock until the requirements are met again.
                                    </div>
                                </div>
                            </div>
                            
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="faq6">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq6Collapse" aria-expanded="false" aria-controls="faq6Collapse">
                                        Can I replace the uploaded file later?
                                    </button>
                                </h2>
                                <div id="faq6Collapse" class="accordion-collapse collapse" aria-labelledby="faq6" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body">
                                        Yes. Use the gate’s <strong>Edit</strong> page and click <strong>Upload / replace file</strong>.
                                        The upload step shows progress, and replacing a file removes the previous one from storage.
                                    </div>
                                </div>
                            </div>
                            
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="faq7">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq7Collapse" aria-expanded="false" aria-controls="faq7Collapse">
                                        What file types can I upload?
                                    </button>
                                </h2>
                                <div id="faq7Collapse" class="accordion-collapse collapse" aria-labelledby="faq7" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body">
                                        You can upload common audio formats (for example WAV, MP3, FLAC). The owner can optionally set a custom
                                        download filename; if left blank, the uploaded filename is used.
                                    </div>
                                </div>
                            </div>
                            
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="faq8">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq8Collapse" aria-expanded="false" aria-controls="faq8Collapse">
                                        Is my data secure?
                                    </button>
                                </h2>
                                <div id="faq8Collapse" class="accordion-collapse collapse" aria-labelledby="faq8" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body">
                                        Yes. Creator accounts use standard authentication, and SoundCloud access is via OAuth.
                                        In production, uploaded files are protected from direct access and served via the authenticated
                                        download endpoint. For more details, see our
                                        <a href="{% url 'core:privacy_policy' %}" class="text-decoration-none">Privacy Policy</a>.
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Troubleshooting Section -->
                    <section class="mb-5">
                        <h2 class="h4 mb-4">
                            <i class="fas fa-tools me-2 text-primary"></i>Troubleshooting
                        </h2>
                        
                        <div class="row">
                            <div class="col-md-6 mb-4">
                                <div class="card h-100 border">
                                    <div class="card-body">
                                        <h5 class="card-title">
                                            <i class="fas fa-exclamation-triangle text-warning me-2"></i>Upload Issues
                                        </h5>
                                        <ul class="mb-0">
                                            <li>If the upload fails, retry from the <strong>Upload / replace file</strong> step</li>
                                            <li>Large files may require server upload limits to be increased (Nginx/Gunicorn)</li>
                                            <li>Keep the tab open until the progress reaches 100%</li>
                                            <li>Try a different browser if the upload repeatedly stalls</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="col-md-6 mb-4">
                                <div class="card h-100 border">
                                    <div class="card-body">
                                        <h5 class="card-title">
                                            <i class="fas fa-soundcloud text-info me-2"></i>SoundCloud Connection Issues
                                        </h5>
                                        <ul class="mb-0">
                                            <li>Try disconnecting (logout button) and connecting again</li>
                                            <li>Disable ad-blockers for the gate page if the popup/redirect is blocked</li>
                                            <li>Make sure you’re logged into the correct SoundCloud account</li>
                                            <li>If authorization fails, try refreshing the gate and reconnecting</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="col-md-6 mb-4">
                                <div class="card h-100 border">
                                    <div class="card-body">
                                        <h5 class="card-title">
                                            <i class="fas fa-user text-success me-2"></i>Account Issues
                                        </h5>
                                        <ul class="mb-0">
                                            <li>Check your email spam folder for verification emails</li>
                                            <li>Use the password reset feature if you forgot your password</li>
                                            <li>Make sure cookies are enabled in your browser</li>
                                            <li>Try clearing your browser cache</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="col-md-6 mb-4">
                                <div class="card h-100 border">
                                    <div class="card-body">
                                        <h5 class="card-title">
                                            <i class="fas fa-lock text-primary me-2"></i>Verification / Download Issues
                                        </h5>
                                        <ul class="mb-0">
                                            <li>If the gate shows “owner hasn’t uploaded the file yet”, the creator must upload the file in step 2</li>
                                            <li>If like/comment/follow doesn’t update, refresh the page to re-check status</li>
                                            <li>If you deleted the comment/unliked/unfollowed on SoundCloud, meet the requirements again</li>
                                            <li>If download fails, try reconnecting SoundCloud and reloading the gate</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Still Need Help Section -->
                    <section class="mb-0">
                        <div class="alert alert-primary">
                            <h5 class="alert-heading">
                                <i class="fas fa-life-ring me-2"></i>Still Need Help?
                            </h5>
                            <p class="mb-2">
                                If you can't find the answer you're looking for, we're here to help!
                            </p>
                            <a href="{% url 'core:contact' %}" class="btn btn-primary">
                                <i class="fas fa-envelope me-2"></i>Contact Support
                            </a>
                        </div>
                    </section>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_css %}
<style>
    .accordion-button {
        font-weight: 500;
    }
    
    .accordion-button:not(.collapsed) {
        background-color: rgba(13, 110, 253, 0.1);
        color: #0d6efd;
    }
    
    .accordion-body {
        line-height: 1.8;
    }
    
    .accordion-body ol {
        padding-left: 1.5rem;
    }
    
    .accordion-body ol li {
        margin-bottom: 0.5rem;
    }
    
    .accordion-body code {
        background-color: #f8f9fa;
        padding: 0.2rem 0.4rem;
        border-radius: 0.25rem;
        font-size: 0.9em;
        color: #d63384;
    }
    
    .card.border {
        border-color: #dee2e6 !important;
    }
    
    .card-title {
        font-size: 1.1rem;
        font-weight: 600;
        margin-bottom: 1rem;
    }
    
    .card-body ul {
        padding-left: 1.25rem;
    }
    
    .card-body ul li {
        margin-bottom: 0.5rem;
    }
</style>
{% endblock %}

